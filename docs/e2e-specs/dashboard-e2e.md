# E2Eテスト仕様書: データ基盤ダッシュボード

## テストケース一覧（3項目）

| ID | シナリオ | フロー内容 | 期待結果 |
|----|---------|-----------|---------|
| E2E-DB-001 | ダッシュボードページ表示 | 管理者ログイン→サイドバー「ダッシュボード」→ページ表示 | 概要カード4枚、部門別グラフ、基盤情報が表示される |
| E2E-DB-002 | サイドバーカテゴリ構成確認 | 管理者ログイン→各カテゴリ内メニュー→ページ遷移 | 5カテゴリが表示され、全10ページへの遷移が正常動作 |
| E2E-DB-003 | 既存ページリグレッション確認 | 管理者ログイン→利用統計→ドキュメント管理→回答品質 | 既存3ページが正常表示される |

## 詳細シナリオ

### E2E-DB-001: ダッシュボードページ表示

**前提条件**: admin@example.com でログイン済み
**操作手順**:
1. サイドバーの「ダッシュボード」をクリック
2. ページ読み込みを待機

**期待結果**:
- 「データ基盤ダッシュボード」タイトルが表示される
- 概要カード4枚が表示される（ドキュメント数、BOX連携、検索品質、今月の質問数）
- 「部門別ドキュメント数」セクションが表示される
- 「基盤情報」セクションにエンベディングモデル名が表示される

**検証ポイント**:
- `text=データ基盤ダッシュボード` の存在
- `text=ドキュメント数` の存在
- `text=BOX連携` の存在
- `text=text-embedding-3-small` の存在

### E2E-DB-002: サイドバーカテゴリ構成確認

**前提条件**: admin@example.com でログイン済み
**操作手順**:
1. サイドバーで「データ基盤」カテゴリヘッダーの存在を確認
2. サイドバーで「ナレッジ構築」カテゴリヘッダーの存在を確認
3. サイドバーで「アプリケーション」カテゴリヘッダーの存在を確認
4. 「AIに質問」→「利用統計」→「ダッシュボード」と順番に遷移

**期待結果**:
- 5カテゴリ全てが表示される
- 各メニュー項目のクリックでページ遷移が正常に動作

**検証ポイント**:
- `text=データ基盤` の存在
- `text=ナレッジ構築` の存在
- `text=アプリケーション` の存在
- `text=分析` の存在
- `text=組織管理` の存在

### E2E-DB-003: 既存ページリグレッション確認

**前提条件**: admin@example.com でログイン済み
**操作手順**:
1. サイドバーから「利用統計」をクリック → ページ表示確認
2. サイドバーから「ドキュメント管理」をクリック → ページ表示確認
3. サイドバーから「回答品質」をクリック → ページ表示確認

**期待結果**:
- 利用統計: 統計カード4枚が表示される
- ドキュメント管理: ドキュメント一覧が表示される
- 回答品質: フィルターボタンが表示される

**検証ポイント**:
- 利用統計: `text=利用統計` + `text=今月の質問数`
- ドキュメント管理: `text=ドキュメント管理`
- 回答品質: `text=回答品質確認`
